extends ../base

block content
	include ../_navbar

	h1 #{title}
	h2 #{user.username}

	if user.pfpUrl
		img(src=user.pfpUrl alt="Profile Picture" width="150")
	else
		img(src="/img/default-user.png" alt="Default Profile" width="150")

	// üî• IMPORT EXERCISES
	.import-zone(
		style="border:2px solid #4CAF50; padding:15px; margin:20px 0; border-radius:8px; background:#f5fff7"
	)
		h3(style="color:#4CAF50") üì• Import Exercises (ExerciseDB)

		p
			| This will fetch dumbbell exercises from ExerciseDB API.
			br
			| ‚ö†Ô∏è This process is slow and rate-limited (‚âà1 minute per muscle group).

		button#importExercisesBtn(
			style="background:#4CAF50; color:white; border:none; padding:10px 15px; cursor:pointer; font-weight:bold;"
		) Import Exercises

		p#importMessage(style="margin-top:10px; font-weight:bold")

	// üî• DANGER ZONE
	.danger-zone(style="border:2px solid #f44336; padding:15px; margin:20px 0; border-radius:8px; background:#fff5f5")
		h3(style="color:#f44336") ‚ö†Ô∏è Danger Zone
		p This will permanently delete ALL exercises. This action cannot be undone.

		button#deleteAllExercisesBtn(
			style="background:#f44336; color:white; border:none; padding:10px 15px; cursor:pointer; font-weight:bold;"
		) Delete ALL Exercises

		p#deleteMessage(style="margin-top:10px; font-weight:bold")

	hr

	if exercises.length === 0
		p No exercises available.
	else
		each exercise in exercises
			.exercise-card(style="border:1px solid #ccc; padding:15px; margin-bottom:20px; border-radius:8px")
				h3 #{exercise.name}
				h3 exerciseId: #{exercise.exerciseId}
				p
					strong Target:
					|  #{exercise.target}

				if exercise.gifURL
					img(
						src=exercise.gifURL
						alt=exercise.name
						width="200"
						style="display:block; margin-top:10px;"
					)

				if exercise.instructions && exercise.instructions.length
					h4 Instructions
					ul
						each step in exercise.instructions
							li #{step}

	block scripts
		script(src="/js/exercisesManagement.js")

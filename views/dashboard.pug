extends base

block styles
  link(rel="stylesheet" href="/css/dashboard.css")

block content
  // =========================
  // NAVBAR
  // =========================
  nav.navbar
    .nav-logo
      a(href="/dashboard")
        img(src="/img/gymlogo.jpg" alt="GymSpire Logo")

    .nav-center
      a(href="/challenges") Challenges
      a(href="/workoutPlan") Workout Plan
      a(href="/workoutLogs") Workout Logs
      a(href="/startSoloWorkout") Start Solo Workout

    .nav-right
      button.hamburger â˜°
      .panel
        a(href="/profile") Profile
        form(action="/api/v1/auth/logout" method="GET")
          button(type="submit") Logout

  // =========================
  // WELCOME SECTION
  // =========================
  .welcome-section
    if user.pfpUrl
      img.profile-pic(src=user.pfpUrl alt="Profile Picture")
    else
      img.profile-pic(src="/img/default-user.png" alt="Default Profile")
    h2 Welcome, #{user.username}

  // =========================
  // STATUS SECTION
  // =========================
  .status-section
    h3 GymSpire Time Status

    p
      if recommended
        strong Recommended to workout now
      else
        strong Not recommended to workout now

    p #{message}

    p
      | Current time:
      -
        const period = currentHour >= 12 ? "PM" : "AM"
        const displayHour = currentHour % 12 || 12
      span #{displayHour}:00 #{period}

    p
      | Current gym load:
      span #{currentLoad}

    p
      | Crowd level:
      span #{crowdLevel}

  // =========================
  // DASHBOARD CARDS
  // =========================
  -
    const cards = [
      { name: "Challenges", clip: "/clip/challenges.mp4" },
      { name: "Workout Plan", clip: "/clip/workout_plan.mp4" },
      { name: "Workout Logs", clip: "/clip/workout_logs.mp4" },
      { name: "Start Solo Workout", clip: "/clip/solo.mp4" }
    ]

  each card, index in cards
    .container
      .left-container
        img.bg-img(src="/img/1.jpg" alt=card.name)
        .buttons
          button.feature-btn-main #{card.name}
          button.feature-btn-clip(data-index=index) &gt;

      .right-container
        .clip-overlay
          video.clip-video(src=card.clip muted autoplay loop playsinline)

  // =========================
  // JS SCRIPT
  // =========================
  script(src="/js/dashboard.js")

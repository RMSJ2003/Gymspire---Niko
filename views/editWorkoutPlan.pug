extends base

block styles
  link(rel="stylesheet" href="/css/editWorkoutPlan.css")

block content
  // ðŸ”¹ TOP BAR
  .top-bar
    if user.userType === "user"
      a.dashboard-btn(href='/dashboard') Dashboard
    if user.userType === "coach"
      a.dashboard-btn(href='/coachDashboard') Dashboard
    if user.userType === "admin"
      a.dashboard-btn(href='/adminDashboard') Dashboard
    a.back-btn(href='javascript:history.back()') Back

  // ðŸ”¹ PAGE TITLE
  h1 #{title}
  h2 #{user.username}

  // ðŸ”¹ PROFILE PICTURE
  if user.pfpUrl
    img.profile-pic(src=user.pfpUrl alt="Profile Picture" width="150")
  else
    img.profile-pic(src="/img/default-user.png" alt="Default Profile" width="150")

  // ðŸ”¹ SCROLLABLE EXERCISE CONTAINER
  .exercise-container
    form#editWorkoutPlanForm
      each exercise, index in exercises
        .exercise-row
          label
            input(
              type="checkbox"
              name="exerciseIds"
              value=exercise.exerciseId
              checked=selectedIds.includes(exercise.exerciseId)
            )
            span.exercise-name #{exercise.name}
            span.exercise-target #{exercise.target}
          button.info-btn(type="button" data-index=index) i

  // ðŸ”¹ UPDATE BUTTON SECTION
  .update-section
    p.form-message#formMessage
    button(type="submit" form="editWorkoutPlanForm") Update Workout Plan

  // ðŸ”¹ MODAL
  .modal.hidden#exerciseModal
    .modal-content
      button#closeModal Ã—
      img#modalGif
      div#modalInstructions

  // ðŸ”¹ PASS EXERCISES DATA TO JS
  script#exercisesData(type="application/json").
    !{JSON.stringify(exercises)}
  script.
    window.exercises = JSON.parse(document.getElementById("exercisesData").textContent)

block scripts
  script(src="/js/editWorkoutPlan.js")
